---
wts:
    title: '08 — внедрение Функций Azure (5 мин)'
    module: 'Модуль 03. Описание основных решений и средств управления'
---
# 08 — внедрение Функций Azure

В этом пошаговом руководстве мы создадим приложение-функцию для отображения приветственного сообщения Hello при выполнении HTTP-запроса. 

# Задача 1. Создание приложения-функции (5 мин)

В рамках этой задачи мы создадим приложение-функцию.

1. Войдите на [портал Azure](https://portal.azure.com).

1. В текстовом поле **Поиск ресурсов, служб и документов** в верхней части портала найдите и выберите элемент **Приложение-функция**, а затем в колонке **Приложение-функция** щелкните **+ Добавить, + Создать или + Новый**.

1. На вкладке **Основные** в колонке **Приложение-функция** укажите следующие параметры (замените **xxxx** в имени приложения-функции буквами и цифрами, чтобы имя было глобально уникальным, а для остальных параметров оставьте значения по умолчанию). 

    | Параметры | Значение |
    | -- | --|
    | Подписка | имя вашей подписки Azure |
    | Группа ресурсов | имя новой группы ресурсов **myRGFunction** |
    | Имя приложения-функции | **function-xxxx** |
    | Опубликовать | **Код** |
    | Стек времени выполнения | **.NET** |
    | Версия | **3.1** |
    | Регион | **Восточная часть США** |
    | | |

    **Примечание.** -  Не забудьте заменить символы **xxxx**, чтобы **Имя приложения-функции** стало уникальным.

1. Щелкните **Просмотр и создание** и после успешной проверки нажмите кнопку **Создать**, чтобы начать подготовку и развертывание нового приложения-функции Azure.

1. Дождитесь уведомления о создании ресурса.

1. Вернитесь к колонке **Приложение-функция**, нажмите кнопку **Обновить** и убедитесь, что вновь созданное приложение-функция имеет состояние **Выполняется**. 

    ![Снимок экрана: страница "Приложение-функция" с новым приложением-функцией.](../images/0701.png)

# Задача 2. Создание функции, активируемой HTTP, и тест

В рамках этой задачи мы будем использовать функцию "Веб-перехватчик + API" для отображения сообщения при выполнении HTTP-запроса. 

1. В колонке **Приложение-функция** щелкните созданное приложение-функцию. 

1. В колонке приложения-функции в разделе **Функции** щелкните **Функции**, а затем нажмите кнопку **+ Добавить**.

    ![Снимок экрана: шаг выбора среды разработки в Функциях Azure на панели начала работы с .NET на портале Azure. Выделены отображаемые элементы для создания функции на портале. Выделенными элементами являются развертывание приложения-функции, добавление новой функции, функции на портале и кнопка продолжения.](../images/0702.png)

1. В разделе **Выберите шаблон** в колонке **Добавить функцию** щелкните **Триггер HTTP**, в разделе **Сведения о шаблоне** примите значения по умолчанию, а затем нажмите кнопку **Добавить**.

1. В колонке **HttpTrigger1** в разделе **Разработчик** щелкните **Code + Test** (Код и тест). 

1. В колонке **HttpTrigger1\| Code + Test** (Код и тест) просмотрите автоматически сгенерированный код и обратите внимание на то, что код предназначен для выполнения HTTP-запроса и регистрации информации. Также обратите внимание, что функция возвращает сообщение Hello с именем. 

    ![Снимок экрана: код функции. Сообщение Hello выделено.](../images/0704.png)

1. Нажмите кнопку **Получить URL-адрес функции** в верхней части редактора функций. 

1. Задайте в раскрывающемся списке **Клавиша** значение **по умолчанию** и нажмите кнопку **Копировать**, чтобы скопировать URL-адрес функции. 

    ![Снимок экрана: панель "Получить URL-адрес функции" в редакторе функций на портале Azure. Отображаемые элементы — кнопка для получения URL-адреса функции, раскрывающийся список задания клавиши и кнопка копирования URL-адреса — выделены, чтобы указать, как получить и скопировать URL-адрес функции из редактора функций.](../images/0705.png)

1. Откройте в браузере новую вкладку и вставьте скопированный URL-адрес функции в адресную строку. При запросе страницы запускается функция. Обратите внимание на возвращенное сообщение о том, что функции требуется имя в тексте запроса.

    ![Снимок экрана: сообщение с просьбой указать имя.](../images/0706.png)

1. Добавьте **&name=*ваше_имя*** в конец URL-адреса.

    **Примечание**. Замените ***ваше_имя*** своим именем. Например, для имени Синди конечный URL-адрес будет иметь следующий вид: `https://azfuncxxx.azurewebsites.net/api/HttpTrigger1?code=X9xx9999xXXXXX9x9xxxXX==&name=cindy`

    ![Снимок экрана: выделенный URL-адрес функции и добавленное для примера имя пользователя в адресной строке веб-браузера. Приветственное сообщение и имя пользователя также выделяются, чтобы указать выходные данные функции в главном окне браузера.](../images/0707.png)

1. Когда ваша функция запускается, отслеживается каждый вызов. Чтобы просмотреть трассировки на портале Azure, вернитесь в колонку **HttpTrigger1 \| Code + Test** (Код и тест) и щелкните **Мониторинг**.

    ![Снимок экрана: журнал сведений о трассировке, полученный в результате выполнения функции в редакторе функций на портале Azure.](../images/0709.png) 

Поздравляем! Вы создали приложение-функцию для отображения приветственного сообщения Hello при выполнении HTTP-запроса. 

**Примечание**. Эту группу ресурсов можно удалить во избежание дополнительных затрат. Выполните поиск по группам ресурсов, выберите свою группу и щелкните **Удалить группу ресурсов**. Проверьте имя группы ресурсов и выберите **Удалить**. Следите за областью **Уведомления** для отслеживания процесса удаления.
